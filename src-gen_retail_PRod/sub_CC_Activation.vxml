<?xml version="1.0" encoding="utf-8"?>
<vxml version="2.1" xml:lang="en-US"
		xmlns="http://www.w3.org/2001/vxml"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xmlns:gvp="http://www.genesyslab.com/2006/vxml21-extension" application="../src/ComposerRoot.vxml">

	
	<!-- VXML code generated by Composer 8.1.450.20 -->
	<!-- Diagram created by Composer: Composer 8.1.450.20 -->
	<!-- Project version: 8.1.450.20 -->
	<!-- Diagram version: 1.0 CreatedOn:  -->
	<!-- Application Author:  -->
	<!-- Release Mode: false -->

	<!-- Global Scripts includes -->
	<script src="../include/common.js" />
	<script src="../include/ctic.js" />
	<script src="../include/json.js" />
	<script src="../include/DataAccess.js" />

	<!-- Global Vars declarations -->
	<script>
		var AppState = new Object();
		AppState.System = new Object();
		AppState.System.RetainInputTypeVariableDefaultValue = false;
		AppState.CallUUID = session.connection.uuid;
		AppState.ANI = getANI();
		AppState.DNIS = getDNIS();
		AppState.USE_LCASE_USERDATAKEY = initSystemTypeVariable('USE_LCASE_USERDATAKEY',0);
  		
  		if (session.connection.protocol.sip.headers != undefined &amp;&amp;
			    session.connection.protocol.sip.headers['x-genesys-gvp-session-id']){
			AppState.GVPSessionID = session.connection.protocol.sip.headers['x-genesys-gvp-session-id'];
		} else {
			AppState.GVPSessionID = 'undefined';
		}
  			
		
		AppState.APP_ASR_LANGUAGE = initSystemTypeVariable('APP_ASR_LANGUAGE','en-US');
		AppState.APP_LANGUAGE = initSystemTypeVariable('APP_LANGUAGE','en-US');
		AppState.COMPOSER_WSSTUBBING = initSystemTypeVariable('COMPOSER_WSSTUBBING','0');
		AppState.EnableFCR = initSystemTypeVariable('EnableFCR',true);
		AppState.EnableReports = initSystemTypeVariable('EnableReports',false);
		AppState.EnableSNMP = initSystemTypeVariable('EnableSNMP',false);
		AppState.GRAMMARFILEDIR = initSystemTypeVariable('GRAMMARFILEDIR','../Resources/Grammars');
		AppState.IVR_AccStatus = '';
		AppState.IVR_EnrollStatus = '';
		AppState.IVR_Skill = '';
		AppState.LAST_EVENT_ELEMENT = initSystemTypeVariable('LAST_EVENT_ELEMENT','undefined');
		AppState.LAST_EVENT_LINE = initSystemTypeVariable('LAST_EVENT_LINE','undefined');
		AppState.LAST_EVENT_MSG = initSystemTypeVariable('LAST_EVENT_MSG','undefined');
		AppState.LAST_EVENT_NAME = initSystemTypeVariable('LAST_EVENT_NAME','undefined');
		AppState.LAST_EVENT_URL = initSystemTypeVariable('LAST_EVENT_URL','undefined');
		AppState.MYDATE = '';
		AppState.OCS_Record = initSystemTypeVariable('OCS_Record',getCallflowOCSRecord());
		AppState.OCS_RecordURI = initSystemTypeVariable('OCS_RecordURI',getCallflowRecordURI());
		AppState.OCS_URI = initSystemTypeVariable('OCS_URI',getCallflowOCSURI());
		AppState.PREV_APP_ASR_LANGUAGE = initSystemTypeVariable('PREV_APP_ASR_LANGUAGE','undefined');
		AppState.PREV_APP_LANGUAGE = initSystemTypeVariable('PREV_APP_LANGUAGE','undefined');
		AppState.SCRIPTSDIR = initSystemTypeVariable('SCRIPTSDIR','../Scripts');
		AppState.v_Reasons = '';
		AppState.VA_DETAILS = '';
		AppState.vAccNum = '';
		AppState.vAccountNo_Out = '';
		AppState.vAccStatus = '';
		AppState.vActCode = '';
		AppState.vActiveCardNum = '';
		AppState.vACTIVEPINSUCC = '';
		AppState.vAPIN = '';
		AppState.vATMPIN = '';
		AppState.vAtmPinResult = '';
		AppState.vAuthFlag = '';
		AppState.vBINOpt = '';
		AppState.vBkndDownCounter = '';
		AppState.vBlockCode = '';
		AppState.vBlockFlag = '';
		AppState.vCallEndReason = '';
		AppState.vCaptureDT = '';
		AppState.vCardBillAddr = '';
		AppState.vCardExpDate = '';
		AppState.vCardFlag = '';
		AppState.vCardIssueDate = '';
		AppState.vCardNo = '';
		AppState.vCardNumCounter = '';
		AppState.vCardPanCode = '';
		AppState.vCardStatus = '';
		AppState.vCCAuthAction = '';
		AppState.vCCConfAuth = '';
		AppState.vConfCall = '';
		AppState.vCount = '';
		AppState.vCounter = 0;
		AppState.vCreditCard = '';
		AppState.vCreditCardCRNInput = '';
		AppState.vCRNNum = '';
		AppState.vCustName = '';
		AppState.vCustomerID = '';
		AppState.vCustSeg = '';
		AppState.vCustType = '';
		AppState.vCVV2 = '';
		AppState.vCYARA_ANI = '';
		AppState.vDate = '';
		AppState.vDebitCard = '';
		AppState.vDebitCRNInput = '';
		AppState.vDisplayName = '';
		AppState.vDOB = '';
		AppState.vEndTime = '';
		AppState.vEnrollStatus = '';
		AppState.vErrMsg = '';
		AppState.vErrorCode = '';
		AppState.vFlagAA = 'N';
		AppState.vFlagDA = 'N';
		AppState.vHr = '';
		AppState.vIdentifier = '';
		AppState.vInputCVV = '';
		AppState.vInterDigitTimeout = '6s';
		AppState.vIVR_RMNCallerFlag = '';
		AppState.vIVR_Skill = '';
		AppState.vIVRAccess = '';
		AppState.vKiddyAccFlag = 'N';
		AppState.vLang = '';
		AppState.vLangFlag = '';
		AppState.vLastCardNum = '';
		AppState.vLastMenuId = '';
		AppState.vLocalTxnDatetime = '';
		AppState.vLocalTxnDt = '';
		AppState.vLocalTxnTime = '';
		AppState.vMainMenu = '';
		AppState.vMenuID = '';
		AppState.vMenuInput = '';
		AppState.vMin = '';
		AppState.vMobileAuth = '';
		AppState.vMonth = '';
		AppState.vMultipleAcc = '';
		AppState.vMYDATE = '';
		AppState.vNewPin = '';
		AppState.VOXFILEDIR = initSystemTypeVariable('VOXFILEDIR','../Resources/Prompts');
		AppState.vPgenFlag = '';
		AppState.vPinActCode = '';
		AppState.vProcCode = '';
		AppState.vProductInfo = 'Debit';
		AppState.vPsFlag = '';
		AppState.vReEnterPin = '';
		AppState.vRelNum = '';
		AppState.vResponse = '';
		AppState.vResult = '';
		AppState.vRetRefNo = '';
		AppState.vReturnReason = '';
		AppState.vSec = '';
		AppState.vSTAN = '';
		AppState.vStartTime = '';
		AppState.vStDate = '';
		AppState.vStTime = '';
		AppState.vSubCallFlag = '';
		AppState.vTempCardNum = '';
		AppState.vTempCCNumber = '';
		AppState.vTempCustName = '';
		AppState.vTempTrav1 = '';
		AppState.vTicketID = '';
		AppState.vTransFlag = '';
		AppState.vTransmTime = '';
		AppState.vTrav1 = '';
		AppState.vTrav2 = '';
		AppState.vTrav3 = '';
		AppState.vTrav4 = '';
		AppState.vTravProduct = '';
		AppState.vTSSegment = '';
		AppState.vTxnANI = '';
		AppState.vTxnDuration = '';
		AppState.vTxnEndDate = '';
		AppState.vTxnEndTime = '';
		AppState.vTxnStDate = '';
		AppState.vTxnStTime = '';
		AppState.vUserID = '';
		AppState.vYear = '';
		AppState.Looping1_inprogress = false;
		AppState.Looping1_cursor = undefined;
		AppState.Looping1_record = undefined;
		AppState.Looping2_inprogress = false;
		AppState.Looping2_cursor = undefined;
		AppState.Looping2_record = undefined;
		AppState.Looping3_inprogress = false;
		AppState.Looping3_cursor = undefined;
		AppState.Looping3_record = undefined;
		AppState.Looping5_inprogress = false;
		AppState.Looping5_cursor = undefined;
		AppState.Looping5_record = undefined;
		AppState.Looping_Invalid118_inprogress = false;
		AppState.Looping_Invalid118_cursor = undefined;
		AppState.Looping_Invalid118_record = undefined;
		AppState.Looping_InvalidPIN_inprogress = false;
		AppState.Looping_InvalidPIN_cursor = undefined;
		AppState.Looping_InvalidPIN_record = undefined;
	</script>

		
	<!-- Global Scripts -->
	<script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
	<script srcexpr="AppState.VOXFILEDIR + '/en-US/en-US.js'" />
	<script srcexpr="AppState.VOXFILEDIR + '/en-IN/en-IN.js'" />
	<script srcexpr="AppState.VOXFILEDIR + '/hi-IN/hi-IN.js'" />
	<script srcexpr="AppState.VOXFILEDIR + '/mr-IN/mr-IN.js'" />
	<script srcexpr="AppState.VOXFILEDIR + '/ta-IN/ta-IN.js'" />
	<script>var f = new Format();</script>

	
	<script srcexpr="AppState.VOXFILEDIR + '/en-US/customprompts.js'" />
	<script srcexpr="AppState.VOXFILEDIR + '/en-IN/customprompts.js'" />
	<script srcexpr="AppState.VOXFILEDIR + '/hi-IN/customprompts.js'" />
	<script srcexpr="AppState.VOXFILEDIR + '/mr-IN/customprompts.js'" />
	<script srcexpr="AppState.VOXFILEDIR + '/ta-IN/customprompts.js'" />
	
	
	<!-- Global Properties declarations -->
	<property name="com.genesyslab.logtoasr" value="false" />   	
	<property name="com.genesyslab.loglevel" value="5" />

	<!-- Metadata information -->
	<meta name="com.genesyslab.studio.resourcePath" content="/Callflows/sub_CC_Activation.callflow"/>

	<!-- Global links -->
	<form>	
		<!-- VAR Parent Action Param -->
		<var name="varActionParentId" expr="''"/>
		<var name="ObjCall" expr="''"/>
		<block name="paramAssignment">
			<assign name="AppState.ObjCall" expr="ObjCall"/>
		</block>
		<block name="varAction">
			<if cond="varActionParentId==''">
				<log label="com.genesyslab.var.ActionStart" gvp:cond="AppState.EnableReports">sub_CC_Activation</log>
			<else/>
				<log label="com.genesyslab.var.ActionStart" gvp:cond="AppState.EnableReports">sub_CC_Activation|parentID=<value expr="varActionParentId"/></log>
			</if>
		</block>
		<block>
			<log expr="'Running sub_CC_Activation workflow.'"/>
			<log expr="'Code Generated by Composer: 8.1.450.20.'"/>
			<log expr="'Diagram created/upgraded by Composer: Composer 8.1.450.20.'"/>
			<log expr="'Project version: 8.1.450.20.'"/>
			<log expr="'Diagram version: 1.0 CreatedOn: .'"/>
			<goto next="#Entry1" />
		</block>
	</form>

	<!-- This is the Exit block -->
	<form id="Exit1">
		<block>
			<log label="com.genesyslab.var.ActionEnd" gvp:cond="AppState.EnableReports">sub_CC_Activation|UNKNOWN</log>
			<var name="ObjCall" expr="AppState.ObjCall"/>
			<return namelist="ObjCall"/>
  		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching1">
		<block>
			<if cond="AppState.vCCConfAuth=='APINGENR'">
				
				<!-- This is the OutLink -->
				<goto next="#Assign_Conf_APIN" />
			</if>
			<goto next="#Assign_Initial" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_Conf_APIN">
		<block>
			
			<assign name="AppState.ANI" expr="AppState.IVR_ANI" />				
			<goto next="#Assign_Initial" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_ANILength">
		<block>
			<if cond="AppState.ANI.length&gt;'10';">
				
				<!-- Post Action -->
				<script>try{
				AppState.vANI=AppState.vANI.substr(AppState.vANI.length-10);
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Copy_1_Log1" />
			</if>
			<goto next="#Log1" />
		</block>
	</form>

	<!-- This is the Log block -->
	<form id="Log1">
		<block>
			<log gvp:level="1">
				<value expr="&quot;AppState.ANI=&quot;+AppState.ANI"/>
			</log>
    	</block>
    	<block>
    		<goto next="#Subdialog_650000" />
    	</block>
	</form>

	<!-- This is the Subdialog block -->
	<form id="Subdialog_650000">

		<subdialog name="Subdialog_650000Subdialog" fetchhint="prefetch"  src="../src-gen/sub_650000.vxml">
    		<param name="varActionParentId" expr="'sub_CC_Activation'"/>
			<param name="ObjCall" expr="AppState.ObjCall" />
			<filled>
				<if cond="Subdialog_650000Subdialog.ObjCall != 'undefined'">
  					<assign name="AppState.ObjCall" expr="Subdialog_650000Subdialog.ObjCall" /> 
  				</if>
				<if cond="Subdialog_650000Subdialog.vActCode != 'undefined'">
  					<assign name="AppState.vActCode" expr="Subdialog_650000Subdialog.vActCode" /> 
  				</if>
				<if cond="Subdialog_650000Subdialog.vErrorCode != 'undefined'">
  					<assign name="AppState.vErrorCode" expr="Subdialog_650000Subdialog.vErrorCode" /> 
  				</if>
				<goto next="#Branching_650000ActCode" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Log block -->
	<form id="Log2_Creditcard">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.vCreditCard is '+AppState.vCreditCard;"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vCreditCard is '+AppState.ObjCall.vCreditCard;"/>
			</log>
    	</block>
    	<block>
    		<goto next="#Branching1" />
    	</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_650000ActCode">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vActCode is '+AppState.ObjCall.vActCode;"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vBlockCode is '+AppState.ObjCall.vBlockCode;"/>
			</log>
    	</block>
		<block>
			<if cond="(AppState.ObjCall.vActCode =='000') &amp;&amp; (AppState.ObjCall.vBlockCode =='P')">
				
				<!-- This is the OutLink -->
				<goto next="#Assign_CTLReg" />
			</if>
			<if cond="AppState.ObjCall.vActCode == '000'">
				
				<!-- This is the OutLink -->
				<goto next="#Assign_NonPBlock" />
			</if>
			<if cond="AppState.ObjCall.vActCode == '118'">
				
				<!-- This is the OutLink -->
				<goto next="#Branching_Mobile118" />
			</if>
			<if cond="AppState.ObjCall.vActCode == '114'">
				
				<!-- This is the OutLink -->
				<goto next="#Assign28" />
			</if>
			<if cond="getBkndDwnValue(AppState.ObjCall.vActCode)=='DOWN'">
				
				<!-- This is the OutLink -->
				<goto next="#Copy_1_Chk_Bkend_Counter" />
			</if>
			<goto next="#Prompt_SystemUN" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt_SystemUN">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt_SystemUNP0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'COR.SYSTEM.UNAVAILABLE.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Assign_AT" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_AT">
		<block>
			
			<assign name="AppState.vSubCallFlag" expr="'AT'" />				
			<goto next="#ECMAScript_AssigntoObject" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_Initial">
		<block>
			
			<assign name="AppState.MYDATE" expr="new Date();" />
			<assign name="AppState.vDate" expr="AppState.MYDATE.getDate()" />
			<assign name="AppState.vYear" expr="AppState.MYDATE.getFullYear()" />
			<assign name="AppState.vHr" expr="AppState.MYDATE.getHours()" />
			<assign name="AppState.vMin" expr="AppState.MYDATE.getMinutes()" />
			<assign name="AppState.vSec" expr="AppState.MYDATE.getSeconds()" />
			<assign name="AppState.vMonth" expr="AppState.MYDATE.getMonth()+1" />
			<assign name="AppState.vProcCode" expr="'650000'" />
			<assign name="AppState.vStartTime" expr="AppState.MYDATE.getTime()" />
			<assign name="AppState.vCaptureDT" expr="ParseCaptureDate(AppState.vYear,AppState.vMonth,AppState.vDate)" />
			<assign name="AppState.vLocalTxnDatetime" expr="LocalTrnxTime(AppState.vCaptureDT,AppState.vHr,AppState.vMin,AppState.vSec)" />
			<assign name="AppState.vTransmTime" expr="(AppState.vLocalTxnDatetime).slice(2, 12)" />
			<assign name="AppState.vSTAN" expr="(AppState.vLocalTxnDatetime).slice(8, 14)" />
			<assign name="AppState.vLocalTxnDt" expr="(AppState.vLocalTxnDatetime).slice(8, 14)" />
			<assign name="AppState.vLocalTxnTime" expr="(AppState.vLocalTxnDatetime).slice(4, 8)" />
			<assign name="AppState.vRetRefNo" expr="(AppState.vLocalTxnDatetime).slice(2, 14)" />
			<assign name="AppState.vAPIN" expr="AppState.vAPIN.slice(0, 4)" />
			<assign name="AppState.vTxnStTime" expr="LocalTime(AppState.vHr,AppState.vMin,AppState.vSec)" />
			<assign name="AppState.vTxnStDate" expr="GetDate()" />
			<assign name="AppState.vStTime" expr="AppState.MYDATE.getTime()" />
			<assign name="AppState.vMenuID" expr="'2060'" />
			<assign name="AppState.vLangFlag" expr="GetLangFlag(AppState.vLangFlag)" />
			<assign name="AppState.vTempCCNumber" expr="'000' + AppState.vCreditCardCRNInput" />
			<assign name="AppState.vLastMenuId" expr="'2060'" />				
			<goto next="#Branching_ANILength" />
		</block>
	</form>
	<!-- This is the Entry block -->
	<form id="Entry1">
		<block name="Entry">
			<goto next="#ECMAScript_AssignObjLang" />
		</block>
	</form>	
	
	<catch event="connection.disconnect.hangup">
		<assign name="AppState.LAST_EVENT_ELEMENT" expr="_element"/>
    	<assign name="AppState.LAST_EVENT_MSG" expr="_message"/>
    	<assign name="AppState.LAST_EVENT_NAME" expr="_event"/>
    	<assign name="AppState.LAST_EVENT_LINE" expr="_line"/>
    	<assign name="AppState.LAST_EVENT_URL" expr="_url"/>
		<goto next="#AssignDisconnectError" />
    </catch>
	<catch event="error.semantic">
		<assign name="AppState.LAST_EVENT_ELEMENT" expr="_element"/>
    	<assign name="AppState.LAST_EVENT_MSG" expr="_message"/>
    	<assign name="AppState.LAST_EVENT_NAME" expr="_event"/>
    	<assign name="AppState.LAST_EVENT_LINE" expr="_line"/>
    	<assign name="AppState.LAST_EVENT_URL" expr="_url"/>
		<goto next="#AssignSemanticError" />
    </catch>
	<catch event="error">
		<assign name="AppState.LAST_EVENT_ELEMENT" expr="_element"/>
    	<assign name="AppState.LAST_EVENT_MSG" expr="_message"/>
    	<assign name="AppState.LAST_EVENT_NAME" expr="_event"/>
    	<assign name="AppState.LAST_EVENT_LINE" expr="_line"/>
    	<assign name="AppState.LAST_EVENT_URL" expr="_url"/>
		<goto next="#ECMAScript_AssigntoObject" />
    </catch>
	<catch event=".">
		<assign name="AppState.LAST_EVENT_ELEMENT" expr="_element"/>
    	<assign name="AppState.LAST_EVENT_MSG" expr="_message"/>
    	<assign name="AppState.LAST_EVENT_NAME" expr="_event"/>
    	<assign name="AppState.LAST_EVENT_LINE" expr="_line"/>
    	<assign name="AppState.LAST_EVENT_URL" expr="_url"/>
		<goto next="#ECMAScript_AssigntoObject" />
    </catch>    
    

	<!-- This is the Log block -->
	<form id="Copy_1_Log1">
		<block>
			<log gvp:level="1">
				<value expr="&quot;AppState.ANI=&quot;+AppState.ANI"/>
			</log>
			<log gvp:level="1">
				<value expr="&quot;AppState.vCreditCardCRNInput=&quot;+AppState.vCreditCardCRNInput"/>
			</log>
			<log gvp:level="1">
				<value expr="&quot;AppState.vSTAN=&quot;+AppState.vSTAN"/>
			</log>
			<log gvp:level="1">
				<value expr="&quot;AppState.vLocalTxnDatetime=&quot;+AppState.vLocalTxnDatetime"/>
			</log>
			<log gvp:level="1">
				<value expr="&quot;AppState.vDOB=&quot;+AppState.vDOB"/>
			</log>
    	</block>
    	<block>
    		<goto next="#Subdialog_650000" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_CTLReg">
		<block>
			
			<assign name="AppState.vMobileAuth" expr="'Y'" />
			<assign name="AppState.vCCAuthAction" expr="'MOB'" />
			<assign name="AppState.vTrav2" expr="AppState.vTrav2+'RMN P Block;'" />				
			<goto next="#Assign_MOBReg" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_MOBReg">
		<block>
			
			<assign name="AppState.vTrav2" expr="AppState.vTrav2+''+'Register CLI – CTL;'" />				
			<goto next="#CCBlockCode" />
		</block>
	</form>

	<!-- This is the Backend logic block -->
	<form id="CCBlockCode">

		<var name="AppStateString" expr="JSON.stringify(AppState)" />
    	<var name="vBlockCode" expr="AppState.ObjCall.vBlockCode" />	
		<block>
			<data name="CCBlockCodeData" src="../src/ReadXMLCreditCard.aspx" method="post"  enctype="multipart/form-data"
				namelist="AppStateString vBlockCode" />
        	<if cond="typeof CCBlockCodeData.errorMsg == 'undefined'">
        		<assign name="AppState.CCBlockCodeResult" expr="CCBlockCodeData" />
				<goto next="#Assign61" />
        	<else/>
        		<throw event="error.com.genesyslab.composer.servererror" messageexpr="CCBlockCodeData.errorMsg" />
        	</if>
		</block>
		
		<catch event="error.badfetch">
			<goto next="#Assign24" />
    	</catch>
		<catch event="error.com.genesyslab.composer.servererror">
			<goto next="#Assign24" />
    	</catch>
	</form>

	<!-- This is the Branching block -->
	<form id="IVRAccessCheck">
		<block>
			<if cond="AppState.vIVRAccess == 'Yes' || AppState.vIVRAccess == 'YES'">
				
				<!-- This is the OutLink -->
				<goto next="#ECMAScript_MultipleAcc" />
			</if>
			<goto next="#Prompt2" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_chk_Amex">
		<block>
			<if cond="AppState.ObjCall.vCreditCard.length=='15'">
				
				<!-- This is the OutLink -->
				<goto next="#Subdialog_931500" />
			</if>
			<goto next="#Log3" />
		</block>
	</form>

	<!-- This is the Log block -->
	<form id="Log3">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vCreditCard is '+AppState.ObjCall.vCreditCard"/>
			</log>
			<log gvp:level="1">
				<value expr="&quot;AppState.vCustName= &quot;+AppState.vCustName"/>
			</log>
			<log gvp:level="1">
				<value expr="&quot;AppState.vCustSeg= &quot;+AppState.vCustSeg"/>
			</log>
			<log gvp:level="1">
				<value expr="&quot;AppState.vUserID= &quot;+AppState.vUserID"/>
			</log>
    	</block>
    	<block>
    		<goto next="#ECMAScript4" />
    	</block>
	</form>

	<!-- This is the Subdialog block -->
	<form id="Subdialog_931500">

		<subdialog name="Subdialog_931500Subdialog" fetchhint="prefetch"  src="../src-gen/sub_931500.vxml">
    		<param name="varActionParentId" expr="'sub_CC_Activation'"/>
			<param name="ObjCall" expr="AppState.ObjCall" />
			<filled>
				<if cond="Subdialog_931500Subdialog.ObjCall != 'undefined'">
  					<assign name="AppState.ObjCall" expr="Subdialog_931500Subdialog.ObjCall" /> 
  				</if>
				<goto next="#Branching2" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Branching block -->
	<form id="Branching2">
		<block>
			<if cond="AppState.ObjCall.vActCode == '139' || AppState.ObjCall.vActCode == '130' || AppState.ObjCall.vActCode == '000'">
				
				<!-- This is the OutLink -->
				<goto next="#Branching3" />
			</if>
			<if cond="AppState.ObjCall.vActCode &gt;='950' &amp;&amp; AppState.ObjCall.vActCode &lt;= '970'">
				
				<!-- This is the OutLink -->
				<goto next="#Prompt1" />
			</if>
			<goto next="#Assign2" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching3">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vCustSeg is '+AppState.ObjCall.vCustSeg;"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vCustType is '+AppState.ObjCall.vCustType;"/>
			</log>
    	</block>
		<block>
			<if cond="AppState.ObjCall.vCustName == '' || AppState.ObjCall.vCustName == ' ' || AppState.ObjCall.vCustName== 'null' || AppState.ObjCall.vCustName == null || AppState.ObjCall.vCustName == 'undefined'">
				
				<!-- This is the OutLink -->
				<goto next="#ChkCustType" />
			</if>
			<goto next="#ECMAScript1" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt1">
        
    	<block name="Prompt1P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'COR.SYSTEM.UNAVAILABLE.wav'"></audio>
    		</prompt>
		</block>
    	<block>
    		<goto next="#ECMAScript_AgentTransfer" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign2">
		<block>
			
			<assign name="AppState.vSubCallFlag" expr="'AT'" />				
			<goto next="#ECMAScript_AssigntoObject" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="ChkCustType">
		<block>
			<if cond="(AppState.ObjCall.vCustType).search('WS')!=-1||(AppState.ObjCall.vCustType).search('GPC')!=-1">
				
				<!-- This is the OutLink -->
				<goto next="#Assign_Ws_skill" />
			</if>
			<if cond="(AppState.ObjCall.vCustType).search('WM')!=-1">
				
				<!-- Post Action -->
				<script>try{
				AppState.ObjCall.vwmflag='Y'
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Assign_Ws_skill" />
			</if>
			<if cond="AppState.ObjCall.vstatusflagirv=='Y'">
				
				<!-- This is the OutLink -->
				<goto next="#Assign_Ws_skill" />
			</if>
			<if cond="AppState.ObjCall.vStatusFlgsmigc=='Y'">
										
				<!-- This is the OutLink -->
				<goto next="#Assign_Ws_skill" />
			</if>
			<if cond="(AppState.ObjCall.vCustType).search('TS')!=-1">
				
				<!-- This is the OutLink -->
				<goto next="#Assign_Ts_skill" />
			</if>
			<if cond="(AppState.ObjCall.vCustType).search('GB')!=-1||(AppState.ObjCall.vCustType).search('Z')!=-1">
				
				<!-- This is the OutLink -->
				<goto next="#Assign_GB_skill" />
			</if>
			<if cond="(AppState.ObjCall.vCustType).search('GS')!=-1">
				
				<!-- This is the OutLink -->
				<goto next="#Assign_GS_skill" />
			</if>
			<goto next="#ECMAScript_InputDOB" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_Ws_skill">
		<block>
			
			<assign name="AppState.IVR_Skill" expr="'Skill_'" />				
			<goto next="#Branching4" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching4">
		<block>
			<if cond="(AppState.vCreditCardCRNInput).length == 15">
				
				<!-- This is the OutLink -->
				<goto next="#Success_Trf_SegmentWise" />
			</if>
			<goto next="#ECMAScript_InputDOB" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Success_Trf_SegmentWise">
		<block>
			
			<assign name="AppState.vSubCallFlag" expr="'AT'" />
			<assign name="AppState.vCCAuthAction" expr="'MOB'" />
			<assign name="AppState.vTrav4" expr="'117'" />				
			<goto next="#ECMAScript_AssigntoObject" />
		</block>
	</form>

	<!-- This is the Input block -->
	<form id="InputDOB">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
		<property name="inputmodes" value="dtmf" />
		<property name="bargein" value="true" />
		<block name="InputDOBP0">
  			<prompt gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'Temp_Block.wav'"></audio>
    		</prompt>
		</block>
		
		
		<var name="retryCount" expr="1"/>
		
		<field name="InputDOBField" type="digits?minlength=8;maxlength=8">
			<property name="interdigittimeout" value="3s"/>
			<property name="termchar" value="#" /> 
			<property name="timeout" value="10s"/>
		</field>
    	<filled mode="all" namelist="InputDOBField">
    		<assign name="AppState.vDOB" expr="InputDOBField" />
	        <script>resetLanguage()</script>
    		<goto next="#Assign_650000" />
    	</filled>
			
		<catch event="noinput" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'COR.NOINPUT.wav'"></audio>
  		</prompt>
  		<clear namelist="InputDOBP0"/>
  		</catch>
			
		<catch event="nomatch" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'COR.INVALID.wav'"></audio>
  		</prompt>
  		<clear namelist="InputDOBP0"/>
  		</catch>
		<catch event="noinput"  cond="retryCount==2">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynoinputs" message="exceeded the number of noinput retries" />
	  	</catch>
		<catch event="nomatch"  cond="retryCount==2">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynomatches" message="exceeded the number of nomatch retries" />
	  	</catch>
		<catch event="com.genesyslab.composer.toomanynoinputs">
	        <script>resetLanguage()</script>
			<goto next="#ECMAScript_NoInput" />
    	</catch>
		<catch event="com.genesyslab.composer.toomanynomatches">
	        <script>resetLanguage()</script>
			<goto next="#ECMAScript_NoMatch" />
    	</catch>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_650000">
		<block>
			<log gvp:level="4">
				<value expr="AppState.vActCode"/>
			</log>
    	</block>
		<block>
			
			<assign name="AppState.MYDATE" expr="new Date();" />
			<assign name="AppState.vDate" expr="AppState.MYDATE.getDate()" />
			<assign name="AppState.vYear" expr="AppState.MYDATE.getFullYear()" />
			<assign name="AppState.vHr" expr="AppState.MYDATE.getHours()" />
			<assign name="AppState.vMin" expr="AppState.MYDATE.getMinutes()" />
			<assign name="AppState.vSec" expr="AppState.MYDATE.getSeconds()" />
			<assign name="AppState.vStTime" expr="AppState.MYDATE.getTime()" />
			<assign name="AppState.vMonth" expr="AppState.MYDATE.getMonth()+1" />
			<assign name="AppState.vTxnStTime" expr="LocalTime(AppState.varHr,AppState.varMin,AppState.varSec)" />
			<assign name="AppState.vTxnStDate" expr="GetDate()" />
			<assign name="AppState.vProcCode" expr="'650000'" />
			<assign name="AppState.vCaptureDT" expr="ParseCaptureDate(AppState.vYear,AppState.vMonth,AppState.vDate)" />
			<assign name="AppState.vLocalTxnDatetime" expr="LocalTrnxTime(AppState.vCaptureDT,AppState.vHr,AppState.vMin,AppState.vSec)" />
			<assign name="AppState.vSTAN" expr="(AppState.vLocalTxnDatetime).slice(8, 14)" />
			<assign name="AppState.vMenuID" expr="'207'" />
			<assign name="AppState.vLastMenuId" expr="'207'" />				
			<goto next="#ECMAScript5" />
		</block>
	</form>

	<!-- This is the Subdialog block -->
	<form id="Subdialog_650000_DOB">

		<subdialog name="Subdialog_650000_DOBSubdialog" fetchhint="prefetch"  src="../src-gen/sub_650000.vxml">
    		<param name="varActionParentId" expr="'sub_CC_Activation'"/>
			<param name="ObjCall" expr="AppState.ObjCall" />
			<filled>
				<if cond="Subdialog_650000_DOBSubdialog.ObjCall != 'undefined'">
  					<assign name="AppState.ObjCall" expr="Subdialog_650000_DOBSubdialog.ObjCall" /> 
  				</if>
				<if cond="Subdialog_650000_DOBSubdialog.vActCode != 'undefined'">
  					<assign name="AppState.vActCode" expr="Subdialog_650000_DOBSubdialog.vActCode" /> 
  				</if>
				<if cond="Subdialog_650000_DOBSubdialog.vErrorCode != 'undefined'">
  					<assign name="AppState.vErrorCode" expr="Subdialog_650000_DOBSubdialog.vErrorCode" /> 
  				</if>
				<goto next="#Branching_DOB" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_Ts_skill">
		<block>
			
			<assign name="AppState.IVR_Skill" expr="'Skill_'" />				
			<goto next="#ECMAScript_InputDOB" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_GB_skill">
		<block>
			
			<assign name="AppState.IVR_Skill" expr="'Skill_'" />				
			<goto next="#ECMAScript_InputDOB" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_GS_skill">
		<block>
			
			<assign name="AppState.IVR_Skill" expr="'Skill_'" />				
			<goto next="#ECMAScript_InputDOB" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript1">
		<block>
			<script>
				AppState.ObjCall.vCustName=replaceCharacter1(AppState.ObjCall.vCustName);
					
					
					//AppState.vTempCustName=AppState.vCustName;
					//AppState.vCustName;
					//if(AppState.vCustSeg==null||AppState.vCustSeg=='undefined')
					//{
					//AppState.vCustSeg='';
					//}
					//AppState.vCustName=getJointName(AppState.vAccStatus,AppState.vCustName);
					//AppState.vCreditCardCRNInput=RemoveAmexCard(AppState.vCreditCardCRNInput)
			</script>	
			<goto next="#ChkCustType" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt2">
        
    	<block name="Prompt2P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCCardBlock.wav'"></audio>
    		</prompt>
		</block>
    	<block>
    		<goto next="#ECMAScript2" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript2">
		<block>
			<script>
				AppState.vSubCallFlag='AT';
					'';
					if (AppState.vTSSegment=='Y'){
					AppState.vTrav1=AppState.vTrav1+'TSCC137;';}
					else{AppState.vTrav1=AppState.vTrav1+'WLNCC137;';}
			</script>	
			<goto next="#ECMAScript_AssigntoObject" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_DOB">
		<block>
			<if cond="AppState.ObjCall.vActCode == '000'">
				
				<!-- Post Action -->
				<script>try{
				//Traversal Path
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QS;';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Assign3" />
			</if>
			<if cond="AppState.ObjCall.vActCode == '222' || AppState.ObjCall.vActCode == '223'">
				
				<!-- This is the OutLink -->
				<goto next="#Assign12" />
			</if>
			<if cond="AppState.ObjCall.vActCode == '114'">
				
				<!-- Post Action -->
				<script>try{
				//Traversal Path
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QF;';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#ECMAScript_AgentTransfer" />
			</if>
			<if cond="getBkndDwnValue(AppState.ObjCall.vActCode)=='DOWN'">
				
				<!-- Post Action -->
				<script>try{
				//Traversal Path
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QF;';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Chk_Bkend_Counter" />
			</if>
			<if cond="AppState.ObjCall.vActCode &gt;= '950' &amp;&amp; AppState.ObjCall.vActCode &lt;= '970'">
				
				<!-- Post Action -->
				<script>try{
				//Traversal Path
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QF;';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Prompt1" />
			</if>
			<goto next="#Assign16" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign3">
		<block>
			
			<assign name="AppState.vTravProduct" expr="'CA'" />
			<assign name="AppState.vAuthFlag" expr="'Y'" />
			<assign name="AppState.vTrav2" expr="AppState.vTrav2+'Valid DOB;'" />				
			<goto next="#Branching_ChkAMEX" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_ChkAMEX">
		<block>
			<if cond="(AppState.ObjCall.vCreditCard).length == 15;">
				
				<!-- Post Action -->
				<script>try{
				//Traversal Path
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'I205';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#AmexInputCVV" />
			</if>
			<if cond="(AppState.ObjCall.vCreditCard).length != 15;">
				
				<!-- Post Action -->
				<script>try{
				//Traversal Path
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'I206';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#InputCVV" />
			</if>
			<goto next="#InputCVV" />
		</block>
	</form>

	<!-- This is the Input block -->
	<form id="AmexInputCVV">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
		<property name="inputmodes" value="dtmf" />
		<property name="bargein" value="true" />
		<block name="AmexInputCVVP0">
  			<prompt gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCAmexCVV.wav'"></audio>
    		</prompt>
		</block>
		
		
		<var name="retryCount" expr="1"/>
		
		<field name="AmexInputCVVField" type="digits?minlength=4;maxlength=4">
			<property name="interdigittimeout" value="3s"/>
			<property name="termchar" value="#" /> 
			<property name="timeout" value="10s"/>
		</field>
    	<filled mode="all" namelist="AmexInputCVVField">
    		<assign name="AppState.vInputCVV" expr="AmexInputCVVField" />
	        <script>resetLanguage()</script>
    		<goto next="#Copy_2_IVRAccessCheck" />
    	</filled>
			
		<catch event="noinput" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCNo_Input.wav'"></audio>
  		</prompt>
  		<clear namelist="AmexInputCVVP0"/>
  		</catch>
			
		<catch event="nomatch" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCInvalid_Input.wav'"></audio>
  		</prompt>
  		<clear namelist="AmexInputCVVP0"/>
  		</catch>
		<catch event="noinput"  cond="retryCount==2">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynoinputs" message="exceeded the number of noinput retries" />
	  	</catch>
		<catch event="nomatch"  cond="retryCount==2">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynomatches" message="exceeded the number of nomatch retries" />
	  	</catch>
		<catch event="com.genesyslab.composer.toomanynoinputs">
	        <script>resetLanguage()</script>
			<goto next="#ECMAScript_NoInput" />
    	</catch>
		<catch event="com.genesyslab.composer.toomanynomatches">
	        <script>resetLanguage()</script>
			<goto next="#ECMAScript_NoMatch" />
    	</catch>
	</form>

	<!-- This is the Branching block -->
	<form id="Copy_2_IVRAccessCheck">
		<block>
			<if cond="AppState.ObjCall.vCVV == AppState.vInputCVV">
				
				<!-- Post Action -->
				<script>try{
				//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QS;';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Assign62" />
			</if>
			<goto next="#Looping1" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_ActCode">
		<block>
			<if cond="AppState.vPinActCode == '000' || AppState.vPinActCode == '118'">
				
				<!-- This is the OutLink -->
				<goto next="#ECMAScript_AssignObj" />
			</if>
			<goto next="#Assign11" />
		</block>
	</form>
	<!-- This is the Looping block -->
	<form id="Looping1">
		<block>
			<script>
				try {
					// if not initialized, initialize the counter/iterator
					if (AppState.Looping1_inprogress == undefined || AppState.Looping1_inprogress == false) {
						AppState.vCounter = 1;
						AppState.Looping1_inprogress = true;
					} else {
						++AppState.vCounter;
						// check if at least one of the exit condition(s) is met
						if (!(AppState.vCounter &lt;= 1)) {
							AppState.Looping1_inprogress = false;
						} else {
						}
					}
				} catch (e) {
					AppState.Looping1_inprogress = false;
				}
			</script>
			
  			<if cond="AppState.Looping1_inprogress == true">
				<!-- This is the NextLink -->
				<goto next="#Prompt3" />
			<else/>
				<!-- This is the ExitLink -->
				<goto next="#Prompt4" />
			</if>
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt3">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt3P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCInvalid_Input.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#ECMAScript_InvalidCVV2" />
    	</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt4">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt4P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCInvalid_Input.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCExceededMaxTime.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#ECMAScript_NoMatch" />
    	</block>
	</form>

	<!-- This is the Input block -->
	<form id="InputCVV">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
		<property name="inputmodes" value="dtmf" />
		<property name="bargein" value="true" />
		<block name="InputCVVP0">
  			<prompt gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCNormalCVV.wav'"></audio>
    		</prompt>
		</block>
		
		
		<var name="retryCount" expr="1"/>
		
		<field name="InputCVVField" type="digits?minlength=3;maxlength=3">
			<property name="interdigittimeout" value="3s"/>
			<property name="termchar" value="#" /> 
			<property name="timeout" value="10s"/>
		</field>
    	<filled mode="all" namelist="InputCVVField">
    		<assign name="AppState.vInputCVV" expr="InputCVVField" />
	        <script>resetLanguage()</script>
    		<goto next="#Copy_1_IVRAccessCheck" />
    	</filled>
			
		<catch event="noinput" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCNoInputTryAg.wav'"></audio>
  		</prompt>
  		<clear namelist="InputCVVP0"/>
  		</catch>
			
		<catch event="nomatch" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCInvalid_Input.wav'"></audio>
  		</prompt>
  		<clear namelist="InputCVVP0"/>
  		</catch>
		<catch event="noinput"  cond="retryCount==2">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynoinputs" message="exceeded the number of noinput retries" />
	  	</catch>
		<catch event="nomatch"  cond="retryCount==2">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynomatches" message="exceeded the number of nomatch retries" />
	  	</catch>
		<catch event="com.genesyslab.composer.toomanynoinputs">
	        <script>resetLanguage()</script>
			<goto next="#ECMAScript_NoInput" />
    	</catch>
		<catch event="com.genesyslab.composer.toomanynomatches">
	        <script>resetLanguage()</script>
			<goto next="#ECMAScript_NoMatch" />
    	</catch>
	</form>

	<!-- This is the Branching block -->
	<form id="Copy_1_IVRAccessCheck">
		<block>
			<if cond="AppState.ObjCall.vCVV == AppState.vInputCVV">
				
				<!-- Post Action -->
				<script>try{
				//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QS;';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Assign62" />
			</if>
			<goto next="#Looping2" />
		</block>
	</form>
	<!-- This is the Looping block -->
	<form id="Looping2">
		<block>
			<script>
				try {
					// if not initialized, initialize the counter/iterator
					if (AppState.Looping2_inprogress == undefined || AppState.Looping2_inprogress == false) {
						AppState.vCounter = 1;
						AppState.Looping2_inprogress = true;
					} else {
						++AppState.vCounter;
						// check if at least one of the exit condition(s) is met
						if (!(AppState.vCounter &lt;= 1)) {
							AppState.Looping2_inprogress = false;
						} else {
						}
					}
				} catch (e) {
					AppState.Looping2_inprogress = false;
				}
			</script>
			
  			<if cond="AppState.Looping2_inprogress == true">
				<!-- This is the NextLink -->
				<goto next="#Prompt5" />
			<else/>
				<!-- This is the ExitLink -->
				<goto next="#Prompt6" />
			</if>
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt5">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt5P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCNormalMaxTryCVV.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#ECMAScript_InvalidCVV1" />
    	</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt6">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt6P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCExceededMaxTime.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#ECMAScript_NoMatch" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign11">
		<block>
			
			<assign name="AppState.vSubCallFlag" expr="'AT'" />
			<assign name="AppState.vAuthFlag" expr="'N'" />				
			<goto next="#ECMAScript_AgentTransfer" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign12">
		<block>
			
			<assign name="AppState.vAuthFlag" expr="'N'" />				
			<goto next="#Looping3" />
		</block>
	</form>
	<!-- This is the Looping block -->
	<form id="Looping3">
		<block>
			<script>
				try {
					// if not initialized, initialize the counter/iterator
					if (AppState.Looping3_inprogress == undefined || AppState.Looping3_inprogress == false) {
						AppState.vCounter = 1;
						AppState.Looping3_inprogress = true;
					} else {
						++AppState.vCounter;
						// check if at least one of the exit condition(s) is met
						if (!(AppState.vCounter &lt;= 1)) {
							AppState.Looping3_inprogress = false;
						} else {
						}
					}
				} catch (e) {
					AppState.Looping3_inprogress = false;
				}
			</script>
			
  			<if cond="AppState.Looping3_inprogress == true">
				<!-- This is the NextLink -->
				<goto next="#Prompt7" />
			<else/>
				<!-- This is the ExitLink -->
				<goto next="#ECMAScript_NoMatch" />
			</if>
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt7">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt7P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CC00.DOB.NOTMATCH.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Copy_1_ECMAScript_InvalidCVV1" />
    	</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Chk_Bkend_Counter">
		<block>
			<if cond="AppState.vBkndDownCounter&lt;2">
				
				<!-- This is the OutLink -->
				<goto next="#Prompt_BkndFail_Q_1" />
			</if>
			<goto next="#Copy_1_Assign_MenuID_BkndDown" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt_BkndFail_Q_1">
        
    	<block name="Prompt_BkndFail_Q_1P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'BACKEND_FAIL_Q.wav'"></audio>
    		</prompt>
		</block>
    	<block>
    		<goto next="#Assign15" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign15">
		<block>
			
			<assign name="AppState.vSubCallFlag" expr="'HostDown_65'" />
			<assign name="AppState.vBkndDownCounter" expr="AppState.vBkndDownCounter+1" />
			<assign name="AppState.v_Reasons" expr="'RCC_BackendFail'" />				
			<goto next="#ECMAScript_AssigntoObject" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Copy_1_Assign_MenuID_BkndDown">
		<block>
			
			<assign name="AppState.vTrav1" expr="AppState.vTrav1+'CCDown02;'" />				
			<goto next="#Prompt1" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign16">
		<block>
			
			<assign name="AppState.vAuthFlag" expr="'N'" />				
			<goto next="#Looping3" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt10">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt10P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'COR.EXCEEDED.RETRIES.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#ECMAScript_AgentTransfer" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign24">
		<block>
			
			<assign name="AppState.vIVRAccess" expr="'No'" />				
			<goto next="#IVRAccessCheck" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_NonPBlock">
		<block>
			
			<assign name="AppState.vTrav2" expr="AppState.vTrav2+'Card is in active status or other than P block status.;'" />
			<assign name="AppState.vBlockFlag" expr="'N'" />				
			<goto next="#ECMAScript_AssigntoObject" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_chkPblock">
		<block>
			<if cond="((AppState.ObjCall.vActCode == '118') &amp;&amp; (AppState.ObjCall.vBlockCode =='P'));">
				
				<!-- This is the OutLink -->
				<goto next="#Assign25" />
			</if>
			<goto next="#Assign27" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign25">
		<block>
			
			<assign name="AppState.vTrav2" expr="'NONRMN P Block'" />				
			<goto next="#Prompt12" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt12">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt12P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CardPBlockedNonRMN.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Assign26" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign26">
		<block>
			
			<assign name="AppState.vSubCallFlag" expr="'DISCONNECT'" />
			<assign name="AppState.v_Reasons" expr="'RCC_CardBlocked'" />
			<assign name="AppState.vCallEndReason" expr="'6'" />				
			<goto next="#ECMAScript_ObjOut" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign27">
		<block>
			
			<assign name="AppState.vSubCallFlag" expr="'Main_Menu'" />				
			<goto next="#Prompt_CardAlreadyActive" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign28">
		<block>
			
			<assign name="AppState.vAtmPinResult" expr="'Act_114'" />
			<assign name="AppState.vTrav2" expr="AppState.vTrav2+'Invalid Credit Card no. Entered;'" />
			<assign name="AppState.v_Reasons" expr="'RCC_AuthFail'" />				
			<goto next="#ECMAScript_ObjOut" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Copy_1_Chk_Bkend_Counter">
		<block>
			<if cond="AppState.vBkndDownCounter&lt;2">
				
				<!-- This is the OutLink -->
				<goto next="#Prompt13" />
			</if>
			<goto next="#Assign_MenuID_BkndDown" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt13">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt13P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'BACKEND_FAIL_Q.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Assign29" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign29">
		<block>
			
			<assign name="AppState.vBkndDownCounter" expr="AppState.vBkndDownCounter+1" />
			<assign name="AppState.v_Reasons" expr="'RCC_BackendFail'" />				
			<goto next="#ECMAScript_AssigntoObject" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_MenuID_BkndDown">
		<block>
			
			<assign name="AppState.vTrav1" expr="AppState.vTrav1+'CCDown02;'" />				
			<goto next="#Prompt1" />
		</block>
	</form>

	<!-- This is the Subdialog block -->
	<form id="Sub_WebService">

		<subdialog name="Sub_WebServiceSubdialog" fetchhint="prefetch"  src="../src-gen/sub_Webservice.vxml">
    		<param name="varActionParentId" expr="'sub_CC_Activation'"/>
			<param name="ObjCall" expr="AppState.ObjCall" />
			<filled>
				<if cond="Sub_WebServiceSubdialog.ObjCall != 'undefined'">
  					<assign name="AppState.ObjCall" expr="Sub_WebServiceSubdialog.ObjCall" /> 
  				</if>
				<goto next="#ECMAScript_ReturnObj" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_Chk_ActionCode">
		<block>
			<if cond="(AppState.vActCode=='000') &amp;&amp; (AppState.ObjCall.vProcCode =='777001')">
				
				<!-- This is the OutLink -->
				<goto next="#ECMAScript_AssignTicket" />
			</if>
			<if cond="(AppState.vActCode=='000') &amp;&amp; (AppState.ObjCall.vProcCode =='777036')">
				
				<!-- This is the OutLink -->
				<goto next="#ECMAScript_AssignSMS" />
			</if>
			<if cond="AppState.ObjCall.vProcCode =='IVRSendSMS'">
				
				<!-- Post Action -->
				<script>try{
				//Traversal Activation successful
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'ES206;';

//Auth 
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'I207';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Enter4digitATMPIN_Or_1APINGene" />
			</if>
			<if cond="getBkndDwnValue(AppState.vActCode)=='DOWN'">
				
				<!-- This is the OutLink -->
				<goto next="#ECMAScript_AgentTransfer" />
			</if>
			<goto next="#ECMAScript_AgentTransfer" />
		</block>
	</form>

	<!-- This is the Input block -->
	<form id="Enter4digitATMPIN_Or_1APINGene">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
		<property name="inputmodes" value="dtmf" />
		<property name="bargein" value="true" />
		<block name="Enter4digitATMPIN_Or_1APINGeneP0">
  			<prompt gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CC_ActivationPrompt.wav'"></audio>
    		</prompt>
		</block>
		
		
		<var name="retryCount" expr="1"/>
		
		<field name="Enter4digitATMPIN_Or_1APINGeneField" type="digits?minlength=1;maxlength=4">
			<property name="interdigittimeout" value="3s"/>
			<property name="termchar" value="#" /> 
			<property name="timeout" value="5s"/>
		</field>
    	<filled mode="all" namelist="Enter4digitATMPIN_Or_1APINGeneField">
    		<assign name="AppState.vAPIN" expr="Enter4digitATMPIN_Or_1APINGeneField" />
	        <script>resetLanguage()</script>
    		<goto next="#DOBAction" />
    	</filled>
			
		<catch event="noinput" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCNoInputTryAg.wav'"></audio>
  		</prompt>
  		<clear namelist="Enter4digitATMPIN_Or_1APINGeneP0"/>
  		</catch>
			
		<catch event="nomatch" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCAuthInvalidEntry.wav'"></audio>
  		</prompt>
  		<clear namelist="Enter4digitATMPIN_Or_1APINGeneP0"/>
  		</catch>
		<catch event="noinput"  cond="retryCount==2">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynoinputs" message="exceeded the number of noinput retries" />
	  	</catch>
		<catch event="nomatch"  cond="retryCount==2">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynomatches" message="exceeded the number of nomatch retries" />
	  	</catch>
		<catch event="com.genesyslab.composer.toomanynoinputs">
	        <script>resetLanguage()</script>
			<goto next="#ECMAScript_NoInputPIN" />
    	</catch>
		<catch event="com.genesyslab.composer.toomanynomatches">
	        <script>resetLanguage()</script>
			<goto next="#ECMAScript_NoMatchPIN" />
    	</catch>
	</form>

	<!-- This is the Prompt block -->
	<form id="ExceededAttempt_CardNumber">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="ExceededAttempt_CardNumberP0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCExceededMaxTime.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Branching_CrediCard" />
    	</block>
	</form>

	<!-- This is the Branching block -->
	<form id="DOBAction">
		<block>
			<if cond="AppState.vAPIN == 1">
				
				<!-- This is the OutLink -->
				<goto next="#Branching_ChkAMEXAT" />
			</if>
			<if cond="(AppState.vAPIN).length == 4">
				
				<!-- Post Action -->
				<script>try{
				AppState.ObjCall.vPIN=AppState.vAPIN;

//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QS;';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#ECMAScript_AssignObjCCPinBlock" />
			</if>
			<goto next="#Looping_InvalidPIN" />
		</block>
	</form>

	<!-- This is the Input block -->
	<form id="InputNewPin">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
		<property name="inputmodes" value="dtmf" />
		<property name="bargein" value="true" />
		<property name="com.genesyslab.private" value="true" />
		<block name="InputNewPinP0">
  			<prompt gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCNewPin.wav'"></audio>
    		</prompt>
		</block>
		
		
		<var name="retryCount" expr="1"/>
		
		<field name="InputNewPinField" type="digits?minlength=4;maxlength=4">
			<property name="interdigittimeout" value="3s"/>
			<property name="termchar" value="#" /> 
			<property name="timeout" value="10s"/>
		</field>
    	<filled mode="all" namelist="InputNewPinField">
    		<assign name="AppState.vNewPin" expr="InputNewPinField" />
	        <script>resetLanguage()</script>
    		<goto next="#ECMAScript_1stPinEntry" />
    	</filled>
			
		<catch event="noinput" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCNoInputTryAg.wav'"></audio>
  		</prompt>
  		<clear namelist="InputNewPinP0"/>
  		</catch>
			
		<catch event="nomatch" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCInvalid_Input.wav'"></audio>
  		</prompt>
  		<clear namelist="InputNewPinP0"/>
  		</catch>
		<catch event="noinput"  cond="retryCount==2">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynoinputs" message="exceeded the number of noinput retries" />
	  	</catch>
		<catch event="nomatch"  cond="retryCount==2">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynomatches" message="exceeded the number of nomatch retries" />
	  	</catch>
		<catch event="com.genesyslab.composer.toomanynoinputs">
	        <script>resetLanguage()</script>
			<goto next="#ECMAScript_NoInput" />
    	</catch>
		<catch event="com.genesyslab.composer.toomanynomatches">
	        <script>resetLanguage()</script>
			<goto next="#ECMAScript_NoMatch" />
    	</catch>
	</form>

	<!-- This is the Input block -->
	<form id="InputReEnterNewPin">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
		<property name="inputmodes" value="dtmf" />
		<property name="bargein" value="true" />
		<property name="com.genesyslab.private" value="true" />
		<block name="InputReEnterNewPinP0">
  			<prompt gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCReenterPin.wav'"></audio>
    		</prompt>
		</block>
		
		
		<var name="retryCount" expr="1"/>
		
		<field name="InputReEnterNewPinField" type="digits?minlength=4;maxlength=4">
			<property name="interdigittimeout" value="3s"/>
			<property name="termchar" value="#" /> 
			<property name="timeout" value="10s"/>
		</field>
    	<filled mode="all" namelist="InputReEnterNewPinField">
    		<assign name="AppState.vReEnterPin" expr="InputReEnterNewPinField" />
	        <script>resetLanguage()</script>
    		<goto next="#ECMAScript_2ndPinEntry" />
    	</filled>
			
		<catch event="noinput" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCNoInputTryAg.wav'"></audio>
  		</prompt>
  		<clear namelist="InputReEnterNewPinP0"/>
  		</catch>
			
		<catch event="nomatch" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCInvalid_Input.wav'"></audio>
  		</prompt>
  		<clear namelist="InputReEnterNewPinP0"/>
  		</catch>
		<catch event="noinput"  cond="retryCount==2">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynoinputs" message="exceeded the number of noinput retries" />
	  	</catch>
		<catch event="nomatch"  cond="retryCount==2">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynomatches" message="exceeded the number of nomatch retries" />
	  	</catch>
		<catch event="com.genesyslab.composer.toomanynoinputs">
	        <script>resetLanguage()</script>
			<goto next="#ECMAScript_NoInput" />
    	</catch>
		<catch event="com.genesyslab.composer.toomanynomatches">
	        <script>resetLanguage()</script>
			<goto next="#ECMAScript_NoMatch" />
    	</catch>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_PinMatch">
		<block>
			<if cond="AppState.vNewPin == AppState.vReEnterPin;">
				
				<!-- Post Action -->
				<script>try{
				//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QS;';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#ECMAScript_ObjCCPinBlockGen" />
			</if>
			<goto next="#Looping5" />
		</block>
	</form>
	<!-- This is the Looping block -->
	<form id="Looping5">
		<block>
			<script>
				try {
					// if not initialized, initialize the counter/iterator
					if (AppState.Looping5_inprogress == undefined || AppState.Looping5_inprogress == false) {
						AppState.vCounter = 1;
						AppState.Looping5_inprogress = true;
					} else {
						++AppState.vCounter;
						// check if at least one of the exit condition(s) is met
						if (!(AppState.vCounter &lt;= 1)) {
							AppState.Looping5_inprogress = false;
						} else {
						}
					}
				} catch (e) {
					AppState.Looping5_inprogress = false;
				}
			</script>
			
  			<if cond="AppState.Looping5_inprogress == true">
				<!-- This is the NextLink -->
				<goto next="#Prompt16" />
			<else/>
				<!-- This is the ExitLink -->
				<goto next="#ECMAScript_NoMatch" />
			</if>
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt16">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt16P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCPinNotMatch.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#InputNewPin" />
    	</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Copy_1_ChkNoMatchCounter">
		<block>
			<if cond="AppState.vCounter != 1">
				
				<!-- This is the OutLink -->
				<goto next="#Prompt17" />
			</if>
			<goto next="#Assign53" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt17">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt17P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'COR.INVALID.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Assign52" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign52">
		<block>
			
			<assign name="AppState.vCounter" expr="AppState.vCounter+1" />				
			<goto next="#Enter4digitATMPIN_Or_1APINGene" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign53">
		<block>
			
			<assign name="AppState.vTrav2" expr="AppState.vTrav2 + 'Exceeded max tries;'" />
			<assign name="AppState.vCounter" expr="AppState.vCounter+1" />				
			<goto next="#Prompt18" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt18">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt18P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'INVALIDIN.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Assign54" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign54">
		<block>
			
			<assign name="AppState.vReturnReason" expr="'TPIN Tries Exceeded'" />
			<assign name="AppState.vSubCallFlag" expr="'DISCONNECT'" />
			<assign name="AppState.vTrav2" expr="AppState.vTrav2 + 'InvalidPin tries Exceeded;'" />
			<assign name="AppState.vCallEndReason" expr="'3'" />				
			<goto next="#Branching_CrediCard" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="AssignSemanticError">
		<block>
			
			<assign name="AppState.vSubCallFlag" expr="'AT'" />
			<assign name="AppState.v_Reasons" expr="'RCC_SemanticError'" />				
			<goto next="#ECMAScript_AssigntoObject" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="AssignDisconnectError">
		<block>
			
			<assign name="AppState.vSubCallFlag" expr="'CUSTDISC'" />
			<assign name="AppState.vCallEndReason" expr="'0'" />
			<assign name="AppState.v_Reasons" expr="'RCC_CustDisc'" />				
			<goto next="#ECMAScript_AssigntoObject" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript4">
		<block>
			<script>
				AppState.ObjCall.vAccNum=AppState.ObjCall.vCreditCard;
			</script>	
			<goto next="#Log4" />
		</block>
	</form>

	<!-- This is the Log block -->
	<form id="Log4">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vAccNum'+AppState.ObjCall.vAccNum"/>
			</log>
    	</block>
    	<block>
    		<goto next="#Subdialog_931500" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign61">
		<block>
			
			<assign name="AppState.vIVRAccess" expr="'YES'" />				
			<goto next="#IVRAccessCheck" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript5">
		<block>
			<script>
				AppState.ObjCall.vDOB=AppState.vDOB;
					AppState.ObjCall.vIdentifier='D';
					AppState.ObjCall.vCountryTag='';
			</script>	
			<goto next="#Subdialog_650000_DOB" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign62">
		<block>
			
			<assign name="AppState.vPinActCode" expr="AppState.ObjCall.vActCode" />				
			<goto next="#Branching_ActCode" />
		</block>
	</form>

	<!-- This is the Log block -->
	<form id="Log5">
		<block>
			<log gvp:level="1">
				<value expr="&quot;AppState.ObjCall.vCreditCard = &quot;+AppState.ObjCall.vCreditCard;"/>
			</log>
    	</block>
    	<block>
    		<goto next="#Sub_WebService" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_AssignObj">
		<block>
			<script>
				AppState.ObjCall.vProcCode='777001';
			</script>	
			<goto next="#Log5" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_ReturnObj">
		<block>
			<script>
				AppState.vActCode=AppState.ObjCall.vActCode;
			</script>	
			<goto next="#Branching_Chk_ActionCode" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_AssignTicket">
		<block>
			<script>
				AppState.ObjCall.vProcCode='777036';
			</script>	
			<goto next="#Sub_WebService" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_AssignSMS">
		<block>
			<script>
				AppState.ObjCall.vProcCode='IVRSendSMS';
			</script>	
			<goto next="#Sub_WebService" />
		</block>
	</form>

	<!-- This is the Subdialog block -->
	<form id="Subdialog_CCPinBlock">

		<subdialog name="Subdialog_CCPinBlockSubdialog" fetchhint="prefetch"  src="../src-gen/sub_CCPINBlockWS.vxml">
    		<param name="varActionParentId" expr="'sub_CC_Activation'"/>
			<param name="ObjCall" expr="AppState.ObjCall" />
			<filled>
				<if cond="Subdialog_CCPinBlockSubdialog.ObjCall != 'undefined'">
  					<assign name="AppState.ObjCall" expr="Subdialog_CCPinBlockSubdialog.ObjCall" /> 
  				</if>
				<goto next="#ECMAScript_AssignObj651000" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Subdialog block -->
	<form id="Subdialog_651000">

		<subdialog name="Subdialog_651000Subdialog" fetchhint="prefetch"  src="../src-gen/sub_651000.vxml">
    		<param name="varActionParentId" expr="'sub_CC_Activation'"/>
			<param name="ObjCall" expr="AppState.ObjCall" />
			<filled>
				<if cond="Subdialog_651000Subdialog.ObjCall != 'undefined'">
  					<assign name="AppState.ObjCall" expr="Subdialog_651000Subdialog.ObjCall" /> 
  				</if>
				<goto next="#Branching_ActCodeAPIN" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_AssignObjCCPinBlock">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.vSubCallFlag is '+AppState.vSubCallFlag;"/>
			</log>
    	</block>
		<block>
			<script>
				AppState.ObjCall.vSubCallFlag=AppState.vSubCallFlag;
			</script>	
			<goto next="#Subdialog_CCPinBlock" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_AssignObj651000">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vSubCallFlag is '+AppState.ObjCall.vSubCallFlag;"/>
			</log>
    	</block>
		<block>
			<script>
				AppState.vSubCallFlag=AppState.ObjCall.vSubCallFlag;
			</script>	
			<goto next="#Subdialog_651000" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_ActCodeAPIN">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vActCode is '+AppState.ObjCall.vActCode;"/>
			</log>
    	</block>
		<block>
			<if cond="AppState.ObjCall.vActCode=='000'">
				
				<!-- Post Action -->
				<script>try{
				AppState.ObjCall.IVR_AuthFlag='Y';
AppState.ObjCall.vACTIVEPINSUCC='Y';
//AppState.ObjCall.vSubCallFlag='AT';

AppState.vSubCallFlag='AT';

//transfer

AppState.ObjCall.vServiceType='pingen';
AppState.ObjCall.vsubServiceType='success';

//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'ES218';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Branching_PINGEN" />
			</if>
			<if cond="AppState.ObjCall.vActCode=='113'">
				
				<!-- Post Action -->
				<script>try{
				AppState.ObjCall.IVR_AuthFlag='N';
AppState.vSubCallFlag='AT';

//transfer

AppState.ObjCall.vServiceType='pingenfailure';
AppState.ObjCall.vsubServiceType='success';

//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'ES219';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Chk_Bkend_Counter" />
			</if>
			<if cond="AppState.ObjCall.vActCode=='118'">
				
				<!-- Post Action -->
				<script>try{
				AppState.ObjCall.IVR_AuthFlag='N';
AppState.vAtmPinResult='INVALIDCARD';

AppState.vSubCallFlag='AT';

//transfer

AppState.ObjCall.vServiceType='pingenfailure';
AppState.ObjCall.vsubServiceType='success';

//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'ES219';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Chk_Bkend_Counter" />
			</if>
			<if cond="AppState.ObjCall.vActCode=='117'">
				
				<!-- Post Action -->
				<script>try{
				AppState.ObjCall.IVR_AuthFlag='N';
AppState.vAtmPinResult='INVALID_PIN';

AppState.vSubCallFlag='AT';

//transfer

AppState.ObjCall.vServiceType='pingenfailure';
AppState.ObjCall.vsubServiceType='success';

//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'ES219';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Copy_1_ChkNoMatchCounter" />
			</if>
			<if cond="AppState.ObjCall.vActCode=='106'">
				
				<!-- Post Action -->
				<script>try{
				AppState.ObjCall.IVR_AuthFlag='N';
AppState.vSubCallFlag='AT';

//transfer

AppState.ObjCall.vServiceType='pingenfailure';
AppState.ObjCall.vsubServiceType='success';

//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'ES219';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Chk_Bkend_Counter" />
			</if>
			<if cond="AppState.ObjCall.vActCode=='126'">
				
				<!-- Post Action -->
				<script>try{
				AppState.ObjCall.IVR_AuthFlag='N';
AppState.vSubCallFlag='AT';

//transfer

AppState.ObjCall.vServiceType='pingenfailure';
AppState.ObjCall.vsubServiceType='success';

//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'ES219';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Chk_Bkend_Counter" />
			</if>
			<if cond="getBkndDwnValue(AppState.ObjCall.vActCode)=='DOWN'">
				
				<!-- Post Action -->
				<script>try{
				AppState.ObjCall.IVR_AuthFlag='N';
AppState.vSubCallFlag='AT';

//transfer

AppState.ObjCall.vServiceType='pingenfailure';
AppState.ObjCall.vsubServiceType='success';

//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'ES219';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Chk_Bkend_Counter" />
			</if>
			<if cond="AppState.ObjCall.vActCode&gt;='950' &amp;&amp; AppState.ObjCall.vActCode &lt;= '970';">
				
				<!-- Post Action -->
				<script>try{
				AppState.ObjCall.IVR_AuthFlag='N';
AppState.vSubCallFlag='AT';

//transfer

AppState.ObjCall.vServiceType='pingenfailure';
AppState.ObjCall.vsubServiceType='success';

//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'ES219';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Chk_Bkend_Counter" />
			</if>
			<goto next="#Chk_Bkend_Counter" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt_CardAlreadyActive">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt_CardAlreadyActiveP0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'already_cardinactive.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#ECMAScript6" />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript6">
		<block>
			<script>
				try {
					
						AppState.ObjCall.vSubCallFlag=AppState.vSubCallFlag;
						// your code
					} catch (error) {
						// error handling code
					}
			</script>	
			<goto next="#ECMAScript_AssigntoObject" />
		</block>
	</form>

	<!-- This is the SetLanguage block -->
	<form id="SetLanguage1">
		<block>
			<assign name="AppState.APP_LANGUAGE" expr="AppState.vLang" />
			<assign name="AppState.APP_ASR_LANGUAGE" expr="AppState.vLang" />
		</block>
		<block>
			<goto next="#Log2_Creditcard" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_AssignObjLang">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.vLang is '+AppState.vLang"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vLang is '+AppState.ObjCall.vLang"/>
			</log>
			<log gvp:level="1">
				<value expr=""/>
			</log>
    	</block>
		<block>
			<script>
				AppState.vLang=AppState.ObjCall.vLang;
					AppState.vSubCallFlag=AppState.ObjCall.vSubCallFlag;
					
					if (AppState.ObjCall.IVR_RMNCallerFlag!='Y') 
						{
							AppState.ObjCall.IVR_RMNCallerFlag='N'
						}
			</script>	
			<goto next="#SetLanguage1" />
		</block>
	</form>

	<!-- This is the Subdialog block -->
	<form id="Subdialog_CCPinBlockGen">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.vNewPin is '+AppState.vNewPin;
'AppState.ObjCall.vPIN is '+AppState.ObjCall.vPIN;"/>
			</log>
    	</block>

		<subdialog name="Subdialog_CCPinBlockGenSubdialog" fetchhint="prefetch"  src="../src-gen/sub_CCPINBlockWS.vxml">
    		<param name="varActionParentId" expr="'sub_CC_Activation'"/>
			<param name="ObjCall" expr="AppState.ObjCall" />
			<filled>
				<if cond="Subdialog_CCPinBlockGenSubdialog.ObjCall != 'undefined'">
  					<assign name="AppState.ObjCall" expr="Subdialog_CCPinBlockGenSubdialog.ObjCall" /> 
  				</if>
				<goto next="#Subdialog_650000PINGen" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_ObjCCPinBlockGen">
		<block>
			<script>
				AppState.ObjCall.vSubCallFlag=AppState.vSubCallFlag;
					AppState.ObjCall.vPIN=AppState.vNewPin;
					AppState.ObjCall.vIdentifier='G';
					AppState.ObjCall.vCountryTag='';
					AppState.ObjCall.vDOB='';
			</script>	
			<goto next="#Subdialog_CCPinBlockGen" />
		</block>
	</form>

	<!-- This is the Subdialog block -->
	<form id="Subdialog_650000PINGen">

		<subdialog name="Subdialog_650000PINGenSubdialog" fetchhint="prefetch"  src="../src-gen/sub_650000G.vxml">
    		<param name="varActionParentId" expr="'sub_CC_Activation'"/>
			<param name="ObjCall" expr="AppState.ObjCall" />
			<filled>
				<if cond="Subdialog_650000PINGenSubdialog.ObjCall != 'undefined'">
  					<assign name="AppState.ObjCall" expr="Subdialog_650000PINGenSubdialog.ObjCall" /> 
  				</if>
				<goto next="#ECMAScript_Assign650000ReturnPINGen" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_Assign650000ObjPINGen">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.vSubCallFlag is '+AppState.vSubCallFlag;"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.vActCode is '+AppState.vActCode;"/>
			</log>
    	</block>
		<block>
			<script>
				AppState.vActCode=AppState.ObjCall.vActCode;
					//AppState.vSubCallFlag=AppState.ObjCall.vSubCallFlag;
					AppState.ObjCall.vACTIVEPINSUCC='Y';
					
					AppState.vSubCallFlag='AT';
					AppState.ObjCall.IVR_AuthFlag='Y';
					
					//transfer
					
					AppState.ObjCall.vServiceType='pingen';
					AppState.ObjCall.vsubServiceType='success';
					
					//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'ES207;';
			</script>	
			<goto next="#Prompt_AuthSuccess" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt_AuthSuccess">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt_AuthSuccessP0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCPinSuccess.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Branching_PINGEN" />
    	</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt_SystemUnavailable118">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt_SystemUnavailable118P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'COR.SYSTEM.UNAVAILABLE.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Branching_PINGEN" />
    	</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_ActCodePINBlock">
		<block>
			<if cond="AppState.vActCode=='000' || AppState.vActCode=='0'">
				
				<!-- Post Action -->
				<script>try{
				AppState.vAuthFlag='Y';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#ECMAScript_Assign650000ObjPINGen" />
			</if>
			<goto next="#ECMAScript_ReturnSystemDown" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_Assign650000ReturnPINGen">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vSubCallFlag is '+AppState.ObjCall.vSubCallFlag;"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vActCode is '+AppState.ObjCall.vActCode;"/>
			</log>
    	</block>
		<block>
			<script>
				AppState.vActCode=AppState.ObjCall.vActCode;
					AppState.vSubCallFlag=AppState.ObjCall.vSubCallFlag;
			</script>	
			<goto next="#Branching_ActCodePINBlock" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_ReturnObjBalPlay">
		<block>
			<script>
				AppState.vSubCallFlag='AT';
			</script>	
			<goto next="#ECMAScript_ObjOut" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_ObjOut">
		<block>
			<script>
				AppState.ObjCall.vSubCallFlag=AppState.vSubCallFlag;
					AppState.ObjCall.vAtmPinResult=AppState.vAtmPinResult;
			</script>	
			<goto next="#ECMAScript_AssigntoObject" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_ReturnSystemDown">
		<block>
			<script>
				AppState.ObjCall.IVR_AuthFlag='N';
					AppState.ObjCall.vSubCallFlag='AT';
					//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'ES208;';
			</script>	
			<goto next="#Prompt_SystemUnavailable118" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_MultipleAcc">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vAccNum is '+AppState.ObjCall.vAccNum;"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vAccDC is '+AppState.ObjCall.vAccDC;"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vCreditCard is '+AppState.ObjCall.vCreditCard;"/>
			</log>
    	</block>
		<block>
			<script>
				//get single account from vAccDC
					AppState.ObjCall.vAccNum = AppState.ObjCall.vAccDC;
			</script>	
			<goto next="#Branching_chk_Amex" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_Mobile118">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vANI is '+AppState.ObjCall.vANI"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.IVR_RMNCallerFlag is '+AppState.ObjCall.IVR_RMNCallerFlag;"/>
			</log>
    	</block>
		<block>
			<if cond="((AppState.ObjCall.vANI.slice(0,1)=='9'||AppState.ObjCall.vANI.slice(0,1)=='8'||AppState.ObjCall.vANI.slice(0,1)=='7'||AppState.ObjCall.vANI.slice(0,1)=='6') &amp;&amp; AppState.ObjCall.vANI.length=='10');">
				
				<!-- Post Action -->
				<script>try{
				AppState.ObjCall.vANI='91'+AppState.ObjCall.vANI;
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#Looping_Invalid118" />
			</if>
			<goto next="#Branching_chkPblock" />
		</block>
	</form>
	<!-- This is the Looping block -->
	<form id="Looping_Invalid118">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.vCounter is '+AppState.vCounter"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.vSubCallFlag is '+AppState.vSubCallFlag"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vANI is '+AppState.ObjCall.vANI;"/>
			</log>
    	</block>
		<block>
			<script>
				try {
					// if not initialized, initialize the counter/iterator
					if (AppState.Looping_Invalid118_inprogress == undefined || AppState.Looping_Invalid118_inprogress == false) {
						AppState.vCounter = 1;
						AppState.Looping_Invalid118_inprogress = true;
					} else {
						++AppState.vCounter;
						// check if at least one of the exit condition(s) is met
						if (!(AppState.vCounter &lt;= 2)) {
							AppState.Looping_Invalid118_inprogress = false;
						} else {
						}
					}
				} catch (e) {
					AppState.Looping_Invalid118_inprogress = false;
				}
			</script>
			
  			<if cond="AppState.Looping_Invalid118_inprogress == true">
				<!-- This is the NextLink -->
				<goto next="#Branching_ANILength" />
			<else/>
				<!-- This is the ExitLink -->
				<goto next="#Branching_chkPblock" />
			</if>
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_ChkAMEXAT">
		<block>
			<if cond="(AppState.ObjCall.vCreditCard).length == 15">
				
				<!-- Post Action -->
				<script>try{
				AppState.vSubCallFlag='AT';

//transfer

AppState.ObjCall.vServiceType='pingen';
AppState.ObjCall.vsubServiceType='success';

//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QS1;';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#ECMAScript_ObjOut" />
			</if>
			<if cond="(AppState.ObjCall.vCreditCard).length != 15">
				
				<!-- Post Action -->
				<script>try{
				//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QS2;';

//Traversal
AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'I212';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#InputNewPin" />
			</if>
			<goto next="#InputNewPin" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_PINGEN">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vPINGEN is '+AppState.ObjCall.vPINGEN;"/>
			</log>
    	</block>
		<block>
			<if cond="AppState.ObjCall.vPINGEN=='Y';">
				
				<!-- Post Action -->
				<script>try{
				AppState.vSubCallFlag='TRANS_MENU';
AppState.ObjCall.vPINGEN='';
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#ECMAScript_ObjOut" />
			</if>
			<goto next="#ECMAScript_ReturnObjBalPlay" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_AgentTransfer">
		<block>
			<script>
				AppState.vSubCallFlag='AT';
					AppState.ObjCall.IVR_AuthFlag='N';
					
					//transfer
					
					AppState.ObjCall.vServiceType='activationfailure';
					AppState.ObjCall.vsubServiceType='success';
			</script>	
			<goto next="#ECMAScript_ObjOut" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_InputDOB">
		<block>
			<script>
				//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'I204';
			</script>	
			<goto next="#InputDOB" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_NoMatch">
		<block>
			<script>
				//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'U;';
			</script>	
			<goto next="#Prompt10" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_NoInput">
		<block>
			<script>
				//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'V;';
			</script>	
			<goto next="#Prompt10" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Prompt_InvalidPIN">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + AppState.vLang + '/' + AppState.vLang + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = AppState.vLang;
	            AppState.APP_ASR_LANGUAGE = AppState.vLang;
	        </script>
        </block>
        
        
    	<block name="Prompt_InvalidPINP0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'CCInvalid_Input.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Enter4digitATMPIN_Or_1APINGene" />
    	</block>
	</form>
	<!-- This is the Looping block -->
	<form id="Looping_InvalidPIN">
		<block>
			<log gvp:level="1">
				<value expr="'AppState.vCounter is '+AppState.vCounter;"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.vSubCallFlag is '+AppState.vSubCallFlag;"/>
			</log>
    	</block>
		<block>
			<script>
				try {
					// if not initialized, initialize the counter/iterator
					if (AppState.Looping_InvalidPIN_inprogress == undefined || AppState.Looping_InvalidPIN_inprogress == false) {
						AppState.vCounter = 1;
						AppState.Looping_InvalidPIN_inprogress = true;
					} else {
						++AppState.vCounter;
						// check if at least one of the exit condition(s) is met
						if (!(AppState.vCounter &lt;= 1)) {
							AppState.Looping_InvalidPIN_inprogress = false;
						} else {
						}
					}
				} catch (e) {
					AppState.Looping_InvalidPIN_inprogress = false;
				}
			</script>
			
  			<if cond="AppState.Looping_InvalidPIN_inprogress == true">
				<!-- This is the NextLink -->
				<goto next="#Prompt_InvalidPIN" />
			<else/>
				<!-- This is the ExitLink -->
				<goto next="#ECMAScript_NoMatchPIN" />
			</if>
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_NoMatchPIN">
		<block>
			<script>
				AppState.ObjCall.IVR_AuthFlag='N';
					AppState.vSubCallFlag='DISCONNECT';
					
					//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'U;';
			</script>	
			<goto next="#ExceededAttempt_CardNumber" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_NoInputPIN">
		<block>
			<script>
				AppState.ObjCall.IVR_AuthFlag='N';
					AppState.vSubCallFlag='DISCONNECT';
					
					//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'V;';
			</script>	
			<goto next="#ExceededAttempt_CardNumber" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_1stPinEntry">
		<block>
			<script>
				//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QS;';
					
					//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'I213';
			</script>	
			<goto next="#InputReEnterNewPin" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_2ndPinEntry">
		<block>
			<script>
				//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QS;';
			</script>	
			<goto next="#Branching_PinMatch" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_CrediCard">
		<block>
			<if cond="AppState.ObjCall.vCreditFlag=='Y'">
				
				<!-- This is the OutLink -->
				<goto next="#ECMAScript_AgentTransfer" />
			</if>
			<goto next="#ECMAScript_ObjOut" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_InvalidCVV1">
		<block>
			<script>
				//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QF1;';
			</script>	
			<goto next="#Branching_ChkAMEX" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_InvalidCVV2">
		<block>
			<script>
				//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QF2;';
			</script>	
			<goto next="#Branching_ChkAMEX" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Copy_1_ECMAScript_InvalidCVV1">
		<block>
			<script>
				//Traversal
					AppState.ObjCall.vTrav1=AppState.ObjCall.vTrav1+'QF;';
			</script>	
			<goto next="#ECMAScript_InputDOB" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_AssigntoObject">
		<block>
			<script>
				try{
							AppState.LAST_EVENT_NAME=AppState.LAST_EVENT_NAME.replace(new RegExp('undefined','g'), '');
							__Log('####AppState.ObjCall.vCallEndReason :  '+AppState.ObjCall.vCallEndReason);
							__Log('####AppState.LAST_EVENT_NAME :  '+AppState.LAST_EVENT_NAME);
							__Log('####AppState.LAST_EVENT_URL :  '+AppState.LAST_EVENT_URL);
					if(AppState.LAST_EVENT_NAME==''){
							__Log('*****AppState.ObjCall.vCallEndReason is Carrying Previous Subdialogs EVENT :  '+AppState.ObjCall.vCallEndReason);
							__Log('*****AppState.ObjCall.vCallEndDetails  is Carrying Previous Subdialogs EVENT :  '+AppState.ObjCall.vCallEndDetails);
							AppState.ObjCall.vCallEndReason=getcallendreasonbyeventempty(AppState.ObjCall.vCallEndReason, AppState.ObjCall.vSubCallFlag);
							__Log('####AppState.vCallEndReason IN IF Cond Post JS function :  '+AppState.ObjCall.vCallEndReason);
					}else{
							AppState.ObjCall.vCallEndDetails=AppState.LAST_EVENT_ELEMENT+'#'+AppState.LAST_EVENT_LINE+'#'+AppState.LAST_EVENT_NAME+'#'+AppState.LAST_EVENT_URL;
							__Log('####AppState.LAST_EVENT_NAME before getcallendreason function is   :  '+AppState.LAST_EVENT_NAME);
							__Log('####AppState.ObjCall.vCallEndDetails are  :  '+AppState.ObjCall.vCallEndDetails);
							AppState.ObjCall.vCallEndReason=getcallendreason(AppState.LAST_EVENT_NAME);
							__Log('####AppState.vCallEndReason Post JS function :  '+AppState.ObjCall.vCallEndReason);
					}
							__Log('@@@@@FINAL Appstate.ObjCall.vCallEndReason INSIDE' +AppState.LAST_EVENT_URL+' is  :  '+AppState.ObjCall.vCallEndReason);
							__Log('@@@@@FINAL Appstate.ObjCall.vCallEndDetails INSIDE' +AppState.LAST_EVENT_URL+' is  :  '+AppState.ObjCall.vCallEndDetails);
					}	catch (error) {
							__Log('  ####  ERROR WHILE HANDLING ERROR EVENTS  ####  ');
					}
			</script>	
			<goto next="#ECMAScript_getCallDisconnect" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Branching_Customer_Disconnect">
		<block>
			<if cond="AppState.ObjCall.CallDisconnectFlag=='D'">
				
				<!-- This is the OutLink -->
				<goto next="#DB_Validation" />
			</if>
			<goto next="#Exit1" />
		</block>
	</form>

	<!-- This is the Log block -->
	<form id="DB_Validation">
		<block>
			<log gvp:level="1">
				<value expr="'****ValueofTrav1 is**** ' + AppState.vTrav1"/>
			</log>
			<log gvp:level="1">
				<value expr="'AppState.ObjCall.vTxnStTime is : '+AppState.ObjCall.vTxnStTime"/>
			</log>
    	</block>
    	<block>
    		<goto next="#Subdialog_InsertMasterData" />
    	</block>
	</form>

	<!-- This is the Subdialog block -->
	<form id="Subdialog_InsertMasterData">

		<subdialog name="Subdialog_InsertMasterDataSubdialog" fetchhint="prefetch"  src="../src-gen/sub_InsertMasterData.vxml">
    		<param name="varActionParentId" expr="'sub_CC_Activation'"/>
			<param name="ObjCall" expr="AppState.ObjCall" />
			<filled>
				<if cond="Subdialog_InsertMasterDataSubdialog.ObjCall != 'undefined'">
  					<assign name="AppState.ObjCall" expr="Subdialog_InsertMasterDataSubdialog.ObjCall" /> 
  				</if>
				<goto next="#Disconnect_error" />
			</filled>
		</subdialog>
		
    	<catch event="error.semantic">
    <goto next="#Disconnect_error" />
    	</catch>
    	<catch event="error.badfetch">
    <goto next="#Disconnect_error" />
    	</catch>
    	<catch event="error">
    <goto next="#Disconnect_error" />
    	</catch>
	</form>

	<!-- This is the Disconnect block -->
	<form id="Disconnect_error">
		<block>

			<disconnect />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="ECMAScript_getCallDisconnect">
		<block>
			<script>
				try {
					
					__Log('******** Call Disconnect Method Call AppState.ObjCall.vCallEndReason : '+AppState.ObjCall.vCallEndReason+' AppState.ObjCall.vSubCallFlag : '+AppState.ObjCall.vSubCallFlag);
					AppState.ObjCall.CallDisconnectFlag=getCallDisconnect(AppState.ObjCall.vCallEndReason,AppState.ObjCall.vSubCallFlag);
					__Log('******* AppState.ObjCall.CallDisconnectFlag : '+AppState.ObjCall.CallDisconnectFlag);
					
					} catch (error) {
					__Log('********* Error while get Calldisconnect Flag');
					}
			</script>	
			<goto next="#Branching_Customer_Disconnect" />
		</block>
	</form>

	<!-- This is the Prompt8 block in Disabled mode -->
	<form id="Prompt8">
    	<block>
    		<goto next="#Assign13" />
    	</block>
	</form>

	<!-- This is the Assign13 block in Disabled mode -->
	<form id="Assign13">
    	<block>
    		<goto next="#ECMAScript_AssigntoObject" />
    	</block>
	</form>

	<!-- This is the Assign14 block in Disabled mode -->
	<form id="Assign14">
    	<block>
    		<goto next="#ECMAScript_AssigntoObject" />
    	</block>
	</form>

	<!-- This is the Branching5 block in Disabled mode -->
	<form id="Branching5">
    	<block>	
    		<goto next="#Assign34" />
    	</block>
	</form>

	<!-- This is the Assign32 block in Disabled mode -->
	<form id="Assign32">
    	<block>
    		<goto next="#Prompt14" />
    	</block>
	</form>

	<!-- This is the Prompt14 block in Disabled mode -->
	<form id="Prompt14">
    	<block>
    		<goto next="#Assign33" />
    	</block>
	</form>

	<!-- This is the Assign33 block in Disabled mode -->
	<form id="Assign33">
    	<block>
    		<goto next="#Prompt10" />
    	</block>
	</form>

	<!-- This is the Assign34 block in Disabled mode -->
	<form id="Assign34">
    	<block>
    		<goto next="#Prompt14" />
    	</block>
	</form>

	<!-- This is the Branching9 block in Disabled mode -->
	<form id="Branching9">
    	<block>	
    		<goto next="#Assign37" />
    	</block>
	</form>

	<!-- This is the Assign36 block in Disabled mode -->
	<form id="Assign36">
    	<block>
    		<goto next="#ECMAScript_AssigntoObject" />
    	</block>
	</form>

	<!-- This is the Assign37 block in Disabled mode -->
	<form id="Assign37">
    	<block>
    		<goto next="#Prompt15" />
    	</block>
	</form>

	<!-- This is the Prompt15 block in Disabled mode -->
	<form id="Prompt15">
    	<block>
    		<goto next="#Assign38" />
    	</block>
	</form>

	<!-- This is the Assign38 block in Disabled mode -->
	<form id="Assign38">
    	<block>
    		<goto next="#Prompt10" />
    	</block>
	</form>

	<!-- This is the Branching10 block in Disabled mode -->
	<form id="Branching10">
    	<block>	
    		<goto next="#Assign41" />
    	</block>
	</form>

	<!-- This is the Assign40 block in Disabled mode -->
	<form id="Assign40">
    	<block>
    		<goto next="#Prompt15" />
    	</block>
	</form>

	<!-- This is the Assign41 block in Disabled mode -->
	<form id="Assign41">
    	<block>
    		<goto next="#Prompt15" />
    	</block>
	</form>

</vxml>
